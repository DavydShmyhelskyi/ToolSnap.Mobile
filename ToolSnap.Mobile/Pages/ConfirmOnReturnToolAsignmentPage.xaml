<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ToolSnap.Mobile.Pages.ConfirmOnReturnToolAsignmentPage"
             Title="Confirm Return">

    <Grid RowDefinitions="*,Auto" Padding="15">

        <CollectionView x:Name="ItemsCollectionView"
                        ItemsSource="{Binding Items}"
                        Grid.Row="0">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame Padding="12"
                           Margin="0,0,0,12"
                           BorderColor="#ccc"
                           CornerRadius="10">

                        <VerticalStackLayout Spacing="8">

                            <Label Text="Tool Type" FontAttributes="Bold" />
                            <Picker ItemsSource="{Binding ToolTypes}"
                                    ItemDisplayBinding="{Binding Title}"
                                    SelectedItem="{Binding SelectedToolType}" />

                            <Label Text="Brand" FontAttributes="Bold" />
                            <Picker ItemsSource="{Binding Brands}"
                                    ItemDisplayBinding="{Binding Title}"
                                    SelectedItem="{Binding SelectedBrand}" />

                            <Label Text="Model" FontAttributes="Bold" />
                            <Picker ItemsSource="{Binding Models}"
                                    ItemDisplayBinding="{Binding Title}"
                                    SelectedItem="{Binding SelectedModel}" />

                            <Label Text="Tool" FontAttributes="Bold" />
                            <Picker ItemsSource="{Binding Tools}"
                                    ItemDisplayBinding="{Binding SerialNumber}"
                                    SelectedItem="{Binding SelectedTool}" />

                            <Label Text="Serial Number" FontAttributes="Bold" />
                            <Entry Text="{Binding SerialNumber}"
                                   Placeholder="Enter serial number" />

                            <Label Text="{Binding Confidence, StringFormat='Confidence: {0:F2}'}"
                                   FontSize="12"
                                   TextColor="Gray" />

                        </VerticalStackLayout>

                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

        <Button Text="Confirm Return"
                Grid.Row="1"
                Margin="0,10,0,0"
                Clicked="OnConfirmClicked" />

    </Grid>
</ContentPage>