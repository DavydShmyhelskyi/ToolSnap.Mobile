<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ToolSnap.Mobile.Pages.MapPage"
             Title="Map"
             BackgroundColor="#F5F5F5">

    <Grid RowDefinitions="Auto,Auto,*,Auto" Padding="10">

        <!-- ==========================
             SEARCH BAR FOR TOOLS
             ========================== -->
        <Grid Grid.Row="0"
              ColumnDefinitions="*,Auto"
              ColumnSpacing="10"
              Padding="0,0,0,5">

            <SearchBar x:Name="SearchBar"
                       Placeholder="Search tool..."
                       FontSize="16"
                       Grid.Column="0" />

            <Button Text="Clear"
                    FontSize="14"
                    Padding="10,5"
                    Grid.Column="1"
                    Clicked="OnClearSearch" />
        </Grid>


        <!-- ==========================
             FILTERS (Type, Brand, Status)
             ========================== -->
        <Grid Grid.Row="1"
              ColumnDefinitions="*,*,*"
              ColumnSpacing="8"
              Padding="0,0,0,10">

            <!-- Tool Type -->
            <Picker x:Name="ToolTypePicker"
                    Title="Type"
                    Grid.Column="0" />

            <!-- Brand -->
            <Picker x:Name="BrandPicker"
                    Title="Brand"
                    Grid.Column="1" />

            <!-- Availability -->
            <Picker x:Name="AvailabilityPicker"
                    Title="Status"
                    Grid.Column="2">
                <Picker.ItemsSource>
                    <x:Array Type="{x:Type x:String}">
                        <x:String>All</x:String>
                        <x:String>Available</x:String>
                        <x:String>NotAvailable</x:String>
                    </x:Array>
                </Picker.ItemsSource>
            </Picker>
        </Grid>


        <!-- ==========================
             MAP VIEW (WEBVIEW)
             ========================== -->
        <Border Grid.Row="2"
                Stroke="#CCCCCC"
                StrokeThickness="1"
                BackgroundColor="White"
                StrokeShape="RoundRectangle 8">

            <WebView x:Name="MapWebView" />
        </Border>


        <!-- ==========================
             REFRESH BUTTON
             ========================== -->
        <Button Grid.Row="3"
                Text="Refresh Map"
                FontSize="18"
                Margin="0,10,0,0"
                Padding="10"
                BackgroundColor="#1976D2"
                TextColor="White"
                CornerRadius="8"
                Clicked="OnRefreshClicked" />

    </Grid>

</ContentPage>